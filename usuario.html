<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="estilos/usuario.css">
</head>
<body>
    <div class="container-menu">
        <header>
            <img class="logo" src="Imagenes/xbox.png" alt="Logo">
            <button id="abrir" class="abrir-menu"><i class="bi bi-list"></i></button>
            <nav class="nav" id="nav">
                <button class="cerrar-menu" id="cerrar"><i class="bi bi-x"></i></button>
                <ul class="nav-list">
                    <li><a href="index.html"><strong>PRODUCTOS</strong></a></li>
                    <li><a href="carro.html"><strong>🛒CARRITO</strong></a></li>
                    <li><a href="deseos.html"><strong>❤️DESEOS</strong></a></li>
                    <li><a href="producto.html"><strong>PRODUCTOS</strong></a></li>
                    <li><a href="https://www.facebook.com/profile.php?id=61557315856153" target="_blank" class="facebook-btn" title="Facebook"><img src="Imagenes/facebook.png" alt="Facebook" title="Icono_Facebook"></a></li>
                </ul>
            </nav>
        </header>
<body>
    <h1>Perfil de Usuario</h1>
    <table>
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Correo Electrónico</th>
                <th>Teléfono</th>
                <th>Dirección</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="userTableBody">
            <!-- Los datos del JSON se insertarán aquí -->
        </tbody>
    </table>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('usuario.json')
                .then(response => response.json())
                .then(data => {
                    const user = data[0];
                    const tableBody = document.getElementById('userTableBody');

                    const row = document.createElement('tr');
                    
                    // Nombre
                    const nombreCell = document.createElement('td');
                    nombreCell.textContent = user["nombre"];
                    row.appendChild(nombreCell);

                    // Apellido
                    const apellidoCell = document.createElement('td');
                    apellidoCell.textContent = user["apellido"];
                    row.appendChild(apellidoCell);

                    // Correo Electrónico
                    const correoCell = document.createElement('td');
                    correoCell.textContent = user["correoElectronico"];
                    row.appendChild(correoCell);

                    // Teléfono
                    const telefonoCell = document.createElement('td');
                    telefonoCell.textContent = user["telefono"];
                    row.appendChild(telefonoCell);

                    // Dirección
                    const direccionCell = document.createElement('td');
                    const direccion = `${user["calle"]}, ${user["ciudad"]}`;
                    direccionCell.textContent = direccion;
                    row.appendChild(direccionCell);

                    // Botón Editar
                    const accionesCell = document.createElement('td');
                    const editarButton = document.createElement('button');
                    editarButton.textContent = "Editar";
                    editarButton.addEventListener('click', function() {
                        const cells = row.querySelectorAll('td:not(:last-child)');
                        cells.forEach(cell => {
                            const text = cell.textContent;
                            const input = document.createElement('input');
                            input.type = 'text';
                            input.value = text;
                            cell.textContent = '';
                            cell.appendChild(input);
                        });
                        editarButton.style.display = 'none';
                        guardarButton.style.display = 'inline-block';
                    });
                    accionesCell.appendChild(editarButton);

                    // Botón Guardar
                    const guardarButton = document.createElement('button');
                    guardarButton.textContent = "Guardar";
                    guardarButton.style.display = 'none';
                    guardarButton.addEventListener('click', function() {
                        const inputs = row.querySelectorAll('input');
                        inputs.forEach(input => {
                            const text = input.value;
                            const cell = input.parentNode;
                            cell.textContent = text;
                        });
                        editarButton.style.display = 'inline-block';
                        guardarButton.style.display = 'none';
                    });
                    accionesCell.appendChild(guardarButton);

                    row.appendChild(accionesCell);

                    tableBody.appendChild(row);
                })
                .catch(error => console.error('Error al cargar el archivo JSON:', error));
        });
    </script>
</body>
</html>
